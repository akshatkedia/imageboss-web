"use strict";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}/* Copyright Â© 2019 ImageBoss. All rights reserved. */(function(){function a(a,b){return v[a]===void 0?b:v[a]}function b(a,b){var{operation:c,coverMode:d,width:e,height:f,options:g}=b,h="/:operation/:options/";"cover"===c?h="/:operation::cover_mode/:widthx:height/:options/":"width"===c?h="/:operation/:width/:options/":"height"===c&&(h="/:operation/:height/:options/");var i=h.replace(":operation",c||"").replace(":cover_mode",d||"").replace(":width",e||"").replace(":height",f||"").replace(":options",g||"").replace(/\/\//g,"/").replace(/:\//g,"/");return"https://img.imageboss.me"+i+a}function c(a){return!!l(a,"src")}function d(a){return!!l(a,"bg-src")}function e(a){return a&&!a.match(/^https?:\/\//)&&(a="".concat(window.location.origin,"/").concat(a.replace(/^\//,""))),a}function f(a){return x.animationEnabled&&"false"!==l(a,"animation")}function g(a,b){f(a)&&(a.style.opacity="".concat(b))}function h(a,b){c(a)?a.setAttribute("src",b):d(a)&&(a.style.backgroundImage="url('".concat(b,"')"))}function i(a,b){console.log(a.style.opacity),c(a)&&!a.style.width&&(a.style.width="".concat(b,"px"))}function j(a){var b=Math.max(document.documentElement.clientHeight,window.innerHeight||0),c=x.lazyLoadDistance;x.isMobile&&(c+=.5);var d=b*c;return a.getBoundingClientRect().top<=b+d&&0<=a.getBoundingClientRect().bottom+d&&"none"!==getComputedStyle(a).display}function k(a){return a&&l(a,"loaded")}function l(a,b){return a.getAttribute("".concat(x.propKey,"-").concat(b))}function m(a,b,c){return a.setAttribute("".concat(x.propKey,"-").concat(b),c)}function n(a,b,c){var d=new Image;d.src=b,d.addEventListener("load",c),d.addEventListener("error",()=>{m(a,"loaded",!0)})}function o(a){return a&&!a.match(/%/)?a:void 0}function p(a){var b=l(a,"width")||o(a.getAttribute("width"));if(b)return b;return 1<a.clientWidth?a.clientWidth:a.parentNode.clientWidth}function q(a){return{src:e(l(a,"src")||l(a,"bg-src")),srcset:l(a,"srcset"),sizes:l(a,"sizes"),operation:l(a,"operation")||"width",coverMode:l(a,"cover-mode"),lowRes:!!l(a,"low-res"),dprDisabled:"false"===l(a,"dpr"),width:p(a),height:l(a,"height")||o(a.getAttribute("height"))||a.clientHeight,options:r(l(a,"options"))}}function r(a){return(a||"").split(",").filter(a=>a)}function s(a){var{srcset:c,src:d,sizes:e}=q(a);return!x.devMode&&c&&(c=c.split(",").map(c=>{// ... 500w
var e=c.match(/ (\d+)w$/);if(e){var f=r(l(a,"options"));x.webpEnabled&&x.webpSupport&&f.push("format:webp"),e=e[1];var g={operation:"width",width:e,options:f},h=b(d,g);return"".concat(h," ").concat(e,"w")}}).join(","),a.setAttribute("srcset",c),a.setAttribute("sizes",e)),a}function t(a){var c=Math.round,{src:e,operation:k,coverMode:o,lowRes:p,dprDisabled:r,width:s,height:t,options:u}=q(a);if(x.devMode)return m(a,"loaded",!0),h(a,e);if(1>=s&&1>=t)return console.error("We couldn't to determine de dimensions of your image based on your markup.                 Make sure you set it using CSS (width:), width=\"\" or imageboss-width=\"\" attribute.",a),m(a,"loaded",!0),h(a,e);x.webpEnabled&&x.webpSupport&&u.push("format:webp"),x.dprSupport&&x.dprEnabled&&!r&&u.push("dpr:2");var v={operation:k,coverMode:o,width:s,height:t,options:u.join(",")},w=b(e,v);if(g(a,.1),f(a)&&(a.style.transition="opacity 1.5s"),d(a)&&"auto"===getComputedStyle(a).backgroundSize&&(a.style.backgroundSize="100%"),!p&&j(a))return h(a,w),void n(a,w,function(){m(a,"loaded",!0),g(a,1)});if(p){if(!l(a,"low-res-loaded")){u.push("quality:01");var y=b(e,_objectSpread({},v,{width:c(.4*s),height:c(.4*t),options:u.filter(a=>!a.match(/dpr/)).join(",")}));i(a,s),h(a,y),m(a,"low-res-loaded",!0)}j(a)&&!l(a,"loading")&&(m(a,"loading",!0),n(a,w,function(){m(a,"loaded",!0),h(a,w),g(a,1)}))}}function u(a){Array.from(a).filter(a=>{if(!a.getAttribute)return!1;var b=e(l(a,"src")||l(a,"bg-src")),c=RegExp(v.authorisedHosts.join("|"));return b&&!k(a)&&b.match(c)}).map(s).forEach(t)}var v=window.ImageBoss,w="https://".concat("img.imageboss.me"),x={propKey:"data-imageboss",imgPropKey:"data-imageboss-src",bgPropKey:"data-imageboss-bg-src",dprSupport:1<window.devicePixelRatio,lazyLoadDistance:a("lazyLoadDistance",1),devMode:a("devMode",!1),dprEnabled:a("dprEnabled",!0),webpEnabled:a("webpEnabled",!0),animationEnabled:a("animationEnabled",!0),isMobile:760>=window.innerWidth};(function(a,b){if(!b)return a(!1);var c=new Image;c.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",c.onload=a.bind(this,!0),c.onerror=a.bind(this,!1)})(function(a){function b(a){a&&(a.length&&Array.prototype.forEach.call(a,function(a){a.attributes&&(a.attributes[x.imgPropKey]||a.attributes[x.bgPropKey])&&!l(a,"loaded")&&u([a]),b(a.childNodes)}),b(a.childNodes))}x.webpSupport=a;var c="[".concat(x.imgPropKey,"],[").concat(x.bgPropKey,"]"),d=()=>u(document.querySelectorAll(c));// in case the user do not add the script at the bottom
"loading"!==document.readyState&&d(),window.addEventListener("DOMContentLoaded",d),window.addEventListener("DOMNodeInserted",a=>b(a.target)),window.addEventListener("resize",d),window.addEventListener("orientationchange",d),document.addEventListener("scroll",d)},x.webpEnabled)})(window);

