"use strict";function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(b,!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(b).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}/* Copyright Â© 2019 ImageBoss. All rights reserved. */(function(){function a(a){var b=!!(1<arguments.length&&arguments[1]!==void 0)&&arguments[1],c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:u,d=a.replace(/(-)([a-z])/g,a=>"".concat(a[1].toUpperCase()));return-1==[null,void 0].indexOf(c[d])?c[d]:b}function b(b,c){var d=k(b,c);return null!==d?d:a(c,!1,w)}function c(a,b){var{operation:c,coverMode:d,width:e,height:f,options:g}=b,h="/:operation/:options/";"cover"===c?h="/:operation::cover_mode/:widthx:height/:options/":"width"===c?h="/:operation/:width/:options/":"height"===c&&(h="/:operation/:height/:options/");var i=h.replace(":operation",c||"").replace(":cover_mode",d||"").replace(":width",e||"").replace(":height",f||"").replace(":options",g||"").replace(/\/\//g,"/").replace(/:\//g,"/");return"https://img.imageboss.me"+i+a}function d(a){return!!k(a,"src")}function e(a){return!!k(a,"bg-src")}function f(a){return a&&!a.match(/^https?:\/\//)&&(a="".concat(window.location.origin,"/").concat(a.replace(/^\//,""))),a}function g(a,c){b(a,"animation")&&(a.style.opacity="".concat(c))}function h(a,b){d(a)?a.setAttribute("src",b):e(a)&&(a.style.backgroundImage="url('".concat(b,"')"))}function i(a){return!b(a,"lazyload")||k(a,"visible")}function j(a){return a&&k(a,"loaded")}function k(a,b){return a.getAttribute("".concat(w.propKey,"-").concat(b))}function l(a,b,c){return a.setAttribute("".concat(w.propKey,"-").concat(b),c)}function m(a,b,c){var d=new Image;d.src=b,d.addEventListener("load",c),d.addEventListener("error",()=>{l(a,"loaded",!0)})}function n(a){return a&&!a.match(/%/)?a:void 0}function o(a,b){var c=k(a,b)||n(a.getAttribute(b)),d="client".concat(b.charAt(0).toUpperCase()+b.slice(1));if(c)return c;return 1<a[d]?a[d]:a.parentNode[d]}function p(a){return{src:f(k(a,"src")||k(a,"bg-src")),srcset:k(a,"srcset"),sizes:k(a,"sizes"),operation:k(a,"operation")||"width",coverMode:k(a,"cover-mode"),width:o(a,"width"),height:o(a,"height"),options:q(k(a,"options")),lazyload:b(a,"lazyload"),lowRes:b(a,"low-res"),dprDisabled:b(a,"dpr")}}function q(a){return(a||"").split(",").filter(a=>a)}function r(a){var{srcset:d,src:e,sizes:f}=p(a);return!w.devMode&&d&&(d=d.split(",").map(d=>{// ... 500w
var f=d.match(/ (\d+)w$/);if(f){var g=q(k(a,"options"));b(a,"webp")&&w.webpSupport&&g.push("format:webp"),f=f[1];var h={operation:"width",width:f,options:g},i=c(e,h);return"".concat(i," ").concat(f,"w")}}).join(","),a.setAttribute("srcset",d),a.setAttribute("sizes",f)),a}function s(a){var d=Math.round,{src:f,operation:j,coverMode:n,lowRes:o,width:q,height:r,options:s}=p(a);if(w.devMode)return l(a,"loaded",!0),h(a,f);if(1>=q&&1>=r)return console.error("We couldn't to determine de dimensions of your image based on your markup.                 Make sure you set it using CSS (width:), width=\"\" or imageboss-width=\"\" attribute.",a),l(a,"loaded",!0),h(a,f);w.webp&&w.webpSupport&&s.push("format:webp"),w.dprSupport&&b(a,"dpr")&&s.push("dpr:2");var t={operation:j,coverMode:n,width:q,height:r,options:s.join(",")},u=c(f,t);if(g(a,.1),b(a,"animation")&&(a.style.transition="opacity 1.5s"),e(a)&&"auto"===getComputedStyle(a).backgroundSize&&(a.style.backgroundSize="100%"),!o&&i(a))return h(a,u),void m(a,u,function(){l(a,"loaded",!0),g(a,1)});if(o){if(!k(a,"low-res-loaded")){s.push("quality:01");var v=c(f,_objectSpread({},t,{width:d(q*w.lowResSize),height:d(r*w.lowResSize),options:s.filter(a=>!a.match(/dpr/)).join(",")}));h(a,v),l(a,"low-res-loaded",!0)}i(a)&&!k(a,"loading")&&(l(a,"loading",!0),m(a,u,function(){l(a,"loaded",!0),h(a,u),g(a,1)}))}}function t(a){Array.from(a).filter(a=>{if(!a.getAttribute)return!1;var b=f(k(a,"src")||k(a,"bg-src")),c=RegExp(u.authorisedHosts.join("|"));return b&&!j(a)&&b.match(c)}).map(r).forEach(s)}var u=window.ImageBoss,v="https://".concat("img.imageboss.me"),w={propKey:"data-imageboss",imgPropKey:"data-imageboss-src",bgPropKey:"data-imageboss-bg-src",dprSupport:1<window.devicePixelRatio,lazyload:a("lazyload",!0),lowRes:a("lowRes",!1),lowResSize:a("lowResSize",.4),devMode:a("devMode",!1),dpr:a("dpr",!0),webp:a("webp",!0),animation:a("animation",!0),isMobile:760>=window.innerWidth};(function(a,b){if(!b)return a(!1);var c=new Image;c.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",c.onload=a.bind(this,!0),c.onerror=a.bind(this,!1)})(function(a){function b(a){a&&(a.length&&Array.prototype.forEach.call(a,function(a){a.attributes&&(a.attributes[w.imgPropKey]||a.attributes[w.bgPropKey])&&!j(a)&&t([a]),b(a.childNodes)}),b(a.childNodes))}w.webpSupport=a;var c="[".concat(w.imgPropKey,"],[").concat(w.bgPropKey,"]"),d=document.querySelectorAll(c),e=()=>t(d);if("loading"!==document.readyState&&e(),"IntersectionObserver"in window){var f=new IntersectionObserver(function(a){a.forEach(function(a){if(a.isIntersecting){var c=a.target;l(c,"visible",!0),b([c]),f.unobserve(c)}})});[].slice.call(d).forEach(function(a){f.observe(a)})}// in case the user do not add the script at the bottom
window.addEventListener("DOMContentLoaded",e),window.addEventListener("DOMNodeInserted",a=>b(a.target))},w.webp)})(window);

